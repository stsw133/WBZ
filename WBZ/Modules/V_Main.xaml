<Window x:Class="WBZ.Modules.Main"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:se="clr-namespace:StswExpress;assembly=StswExpress"
        xmlns:g="clr-namespace:WBZ.Globals"
        xmlns:p="clr-namespace:WBZ.Properties"
        mc:Ignorable="d" Height="550" Width="825" ResizeMode="CanResize" WindowStartupLocation="CenterScreen"
        Title="{Binding Title}" Icon="/Resources/icon64.ico"
        Loaded="Window_Loaded" Closing="Window_Closing">
    <WindowChrome.WindowChrome>
        <WindowChrome GlassFrameThickness="0,0,0,1" CornerRadius="0"/>
    </WindowChrome.WindowChrome>
    <Window.CommandBindings>
        <CommandBinding Command="se:Commands.Close" Executed="menuClose_Executed"/>
        <CommandBinding Command="se:Commands.Help" Executed="menuHelp_Executed"/>
        <CommandBinding Command="se:Commands.Refresh" Executed="menuRefresh_Executed"/>
    </Window.CommandBindings>
    <DockPanel>
        <!-- titleBar -->
        <se:TitleBar DockPanel.Dock="Top"/>
        <!-- menu -->
        <Border DockPanel.Dock="Top" BorderBrush="Gray" BorderThickness="1">
            <DockPanel>
                <!-- menu -->
                <Menu BorderBrush="Gray" BorderThickness="0,0,1,0">
                    <MenuItem Header="{Tr System}" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}">
                        <se:MenuItem Header="{Tr UserManual}" IconUri="/Resources/icon32_books.ico" Command="se:Commands.Help"/>
                        <Separator/>
                        <se:MenuItem Header="{Tr Settings}" IconUri="/Resources/icon32_settings.ico" Click="menuSettings_Click"/>
                        <Separator/>
                        <se:MenuItem Header="{Tr Refresh}" IconUri="/Resources/icon32_refresh.ico" Command="se:Commands.Refresh"/>
                        <se:MenuItem Header="{Tr Logout}" IconUri="/Resources/icon32_return.ico" Click="menuLogout_Click"/>
                        <se:MenuItem Header="{Tr CloseApp}" IconUri="/Resources/icon32_close.ico" Command="se:Commands.Close"/>
                    </MenuItem>
                </Menu>
                <!-- personal -->
                <Label DockPanel.Dock="Right" Content="{Binding Source={x:Static g:Global.User}, Path=Fullname}" Margin="5,0" Padding="1" VerticalContentAlignment="Center" FontWeight="Medium"/>
                <Button DockPanel.Dock="Right" HorizontalAlignment="Right" BorderThickness="1,0" ToolTip="{Tr Others}" Click="btnOther_Click">
                    <Image Margin="2"
                           Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.75}"
                           Source="/Resources/icon32_tools.ico"/>
                    <Button.ContextMenu>
                        <ContextMenu>
                            <se:MenuItem Header="{Tr Profile}" IconUri="/Resources/icon32_profile.ico" Click="btnProfile_Click"/>
                            <se:MenuItem Header="{Tr Timetable}" IconUri="/Resources/icon32_calendar.ico" Click="btnCalendar_Click" IsEnabled="False"/>
                            <se:MenuItem Header="{Tr Messages}" IconUri="/Resources/icon32_mail.ico" Click="btnMail_Click" IsEnabled="False"/>
                        </ContextMenu>
                    </Button.ContextMenu>
                </Button>
                <!-- searchBar -->
                <TextBox DockPanel.Dock="Top" Margin="1" VerticalContentAlignment="Center"
                         Padding="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2;0;0;0}"
                         TextChanged="tbSearch_TextChanged">
                    <TextBox.Background>
                        <ImageBrush ImageSource="/Resources/icon32_search.ico" AlignmentX="Left" Stretch="Uniform">
                            <ImageBrush.Transform>
                                <TransformGroup>
                                    <ScaleTransform ScaleX="0.8" ScaleY="0.8"/>
                                    <SkewTransform/>
                                    <RotateTransform/>
                                    <TranslateTransform X="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=0.2}"
                                                        Y="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=0.2}"/>
                                </TransformGroup>
                            </ImageBrush.Transform>
                        </ImageBrush>
                    </TextBox.Background>
                </TextBox>
            </DockPanel>
        </Border>
        <!-- main -->
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <ScrollViewer.Background>
                <SolidColorBrush Color="{Binding config_Main_PanelColor, Source={x:Static p:Settings.Default}}"/>
            </ScrollViewer.Background>
            <WrapPanel x:Name="gridModules" Margin="5" HorizontalAlignment="Center">
                <!-- admin -->
                <Border x:Name="modAdmin" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Admin_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Admin_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Admin_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_admin.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Admin}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr Console}" Icon="/Resources/icon32_code.ico" Click="btnConsoleSQL_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- ConsoleSQL -->
                                <se:MenuItem Header="{Tr Console}" IconUri="/Resources/icon32_code.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=admin}"
                                              Click="btnConsoleSQL_Click"/>
                                <!--
                                <MenuItem Text="{Tr Community}"
                                          IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=community_preview}"
                                          Icon="/Resources/icon32_community.ico" Click="btnVersions_Click"/>
                                -->
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Admin_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- articles -->
                <Border x:Name="modArticles" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Articles_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Articles_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Articles_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_articles.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Articles}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnArticlesList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=articles_preview}"
                                              Click="btnArticlesList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=articles_save}"
                                              Click="btnArticlesNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Articles_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- attachments -->
                <Border x:Name="modAttachments" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Attachments_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Attachments_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Attachments_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_photos.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Attachments}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnAttachmentsList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=attachments_preview}"
                                              Click="btnAttachmentsList_Click"/>
                                <!-- Gallery -->
                                <se:MenuItem Header="{Tr Gallery}" IconUri="/Resources/icon32_gallery.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=attachments_preview}"
                                              Click="btnAttachmentsGallery_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Attachments_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- attributesClasses -->
                <Border x:Name="modAttributesClasses" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_AttributesClasses_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_AttributesClasses_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_AttributesClasses_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_attributes.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr AttributesClasses}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnAttributesClassesList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=attributes_classes_preview}"
                                              Click="btnAttributesClassesList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=attributes_classes_save}"
                                              Click="btnAttributesClassesNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_AttributesClasses_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- contractors -->
                <Border x:Name="modContractors" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Contractors_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Contractors_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Contractors_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_contractors.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Contractors}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnContractorsList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=contractors_preview}"
                                              Click="btnContractorsList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=contractors_save}"
                                              Click="btnContractorsNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Contractors_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- distributions -->
                <Border x:Name="modDistributions" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Distributions_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Distributions_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Distributions_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_food.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Distributions}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnDistributionsList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=distributions_preview}"
                                              Click="btnDistributionsList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=distributions_save}"
                                              Click="btnDistributionsNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Distributions_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- documents -->
                <Border x:Name="modDocuments" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Documents_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Documents_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Documents_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_documents.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Documents}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnDocumentsList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=documents_preview}"
                                              Click="btnDocumentsList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=documents_save}"
                                              Click="btnDocumentsNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Documents_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- employees -->
                <Border x:Name="modEmployees" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Employees_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Employees_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Employees_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_briefcase.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Employees}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnEmployeesList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=employees_preview}"
                                              Click="btnEmployeesList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=employees_save}"
                                              Click="btnEmployeesNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Employees_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- families -->
                <Border x:Name="modFamilies" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Families_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Families_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Families_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_families.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Families}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnFamiliesList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=families_preview}"
                                              Click="btnFamiliesList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=families_save}"
                                              Click="btnFamiliesNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Families_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- icons -->
                <Border x:Name="modIcons" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Icons_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Icons_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Icons_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_icons.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Icons}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnIconsList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=icons_preview}"
                                              Click="btnIconsList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=icons_save}"
                                              Click="btnIconsNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Icons_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- logs -->
                <Border x:Name="modLogs" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Logs_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Logs_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Logs_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_logs.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Logs}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnLogsList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=logs_preview}"
                                              Click="btnLogsList_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Logs_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- stats -->
                <Border x:Name="modStats" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Stats_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Stats_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Stats_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_stats.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Stats}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr Stats}" Icon="/Resources/icon32_stats.ico" Click="btnStats_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- Stats -->
                                <se:MenuItem Header="{Tr Stats}" IconUri="/Resources/icon32_stats.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=stats_preview}"
                                              Click="btnStats_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Stats_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- stores -->
                <Border x:Name="modStores" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Stores_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Stores_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Stores_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_stores.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Stores}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnStoresList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=stores_preview}"
                                              Click="btnStoresList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=stores_save}"
                                              Click="btnStoresNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Stores_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- users -->
                <Border x:Name="modUsers" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Users_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Users_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Users_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_users.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Users}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnUsersList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=users_preview}"
                                              Click="btnUsersList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=users_save}"
                                              Click="btnUsersNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Users_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
                <!-- vehicles -->
                <Border x:Name="modVehicles" DockPanel.Dock="Top" Margin="5" VerticalAlignment="Top"
                        BorderBrush="{Binding config_Vehicles_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                        BorderThickness="2" Background="{Binding config_Vehicles_PanelColor, Source={x:Static p:Settings.Default}}">
                    <Border Margin="5" Width="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=20}"
                            BorderBrush="{Binding config_Vehicles_PanelColor, Source={x:Static p:Settings.Default}, Converter={se:conv_Color}, ConverterParameter=-0.4}"
                            BorderThickness="1" Background="White" MouseRightButtonDown="btnOther_Click">
                        <DockPanel>
                            <Image Margin="5" Source="/Resources/icon32_transport.ico" Height="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=2.5}"/>
                            <Label Margin="1" Content="{Tr Vehicles}" VerticalAlignment="Center" FontWeight="Heavy"
                                   FontSize="{Binding FontSize, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}, Mode=OneWay, Converter={se:conv_Size}, ConverterParameter=1.25}"/>
                            <se:IconButton Margin="5" HorizontalAlignment="Right" VerticalAlignment="Center" IsTextVisible="False"
                                            ToolTip="{Tr List}" Icon="/Resources/icon32_list.ico" Click="btnVehiclesList_Click"/>
                        </DockPanel>
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- List -->
                                <se:MenuItem Header="{Tr List}" IconUri="/Resources/icon32_list.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=vehicles_preview}"
                                              Click="btnVehiclesList_Click"/>
                                <!-- New -->
                                <se:MenuItem Header="{Tr New}" IconUri="/Resources/icon32_add.ico"
                                              IsEnabled="{Binding Perms, Source={x:Static g:Global.User}, Converter={se:conv_ListContains}, ConverterParameter=vehicles_save}"
                                              Click="btnVehiclesNew_Click"/>
                            </ContextMenu>
                        </Border.ContextMenu>
                    </Border>
                    <Border.ContextMenu>
                        <ContextMenu>
                            <se:ColorSetter Color="{Binding config_Vehicles_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                        </ContextMenu>
                    </Border.ContextMenu>
                </Border>
            </WrapPanel>
            <ScrollViewer.ContextMenu>
                <ContextMenu>
                    <se:ColorSetter Color="{Binding config_Main_PanelColor, Source={x:Static p:Settings.Default}, Mode=TwoWay}"/>
                </ContextMenu>
            </ScrollViewer.ContextMenu>
        </ScrollViewer>
    </DockPanel>
</Window>
